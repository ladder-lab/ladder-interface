import React from 'react'
import { Box, Typography, Button } from '@mui/material'
import Modal from 'components/Modal'
import useModal from 'hooks/useModal'
import { useIsDarkMode } from 'state/user/hooks'

interface Props {
  type: 'success' | 'failure' | 'support' | 'error' | 'warning'
  children?: React.ReactNode
  width?: string
  header?: string
  action?: () => void
  actionText?: string
}

export default function MessageBox({ type, children, width = '480px', header, action, actionText }: Props) {
  const { hideModal } = useModal()
  const isDarkMode = useIsDarkMode()

  const icon =
    type === 'success' ? (
      <svg width="32" height="32" viewBox="0 0 40 40" fill={isDarkMode ? '#FFFFFF' : '#000000'}>
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M29.432 14.0106C29.7949 14.3413 29.821 14.9035 29.4904 15.2664L18.7347 27.0713L11.7553 19.9794C11.411 19.6295 11.4155 19.0667 11.7654 18.7223C12.1153 18.378 12.6781 18.3825 13.0224 18.7324L18.685 24.4863L28.1763 14.069C28.5069 13.7062 29.0691 13.68 29.432 14.0106Z"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M20 38.2222C30.0639 38.2222 38.2222 30.0639 38.2222 20C38.2222 9.93614 30.0639 1.77778 20 1.77778C9.93614 1.77778 1.77778 9.93614 1.77778 20C1.77778 30.0639 9.93614 38.2222 20 38.2222ZM20 40C31.0457 40 40 31.0457 40 20C40 8.9543 31.0457 0 20 0C8.9543 0 0 8.9543 0 20C0 31.0457 8.9543 40 20 40Z"
        />
      </svg>
    ) : type === 'failure' ? (
      <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M21.4807 10.8753C21.203 10.5976 20.7527 10.5976 20.475 10.8753L10.875 20.4753C10.5973 20.753 10.5973 21.2032 10.875 21.4809C11.1527 21.7586 11.603 21.7586 11.8807 21.4809L21.4807 11.8809C21.7584 11.6032 21.7584 11.153 21.4807 10.8753Z"
          fill={isDarkMode ? '#FFFFFF' : '#000000'}
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M10.5193 10.875C10.797 10.5973 11.2473 10.5973 11.525 10.875L21.125 20.475C21.4027 20.7527 21.4027 21.203 21.125 21.4807C20.8473 21.7584 20.397 21.7584 20.1193 21.4807L10.5193 11.8807C10.2416 11.603 10.2416 11.1527 10.5193 10.875Z"
          fill={isDarkMode ? '#FFFFFF' : '#000000'}
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M16 30.5778C24.0511 30.5778 30.5778 24.0511 30.5778 16C30.5778 7.94892 24.0511 1.42222 16 1.42222C7.94892 1.42222 1.42222 7.94892 1.42222 16C1.42222 24.0511 7.94892 30.5778 16 30.5778ZM16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32Z"
          fill={isDarkMode ? '#FFFFFF' : '#000000'}
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M16.0001 4.97789C9.9127 4.97789 4.97789 9.9127 4.97789 16.0001C4.97789 22.0875 9.9127 27.0223 16.0001 27.0223C22.0875 27.0223 27.0223 22.0875 27.0223 16.0001C27.0223 15.6074 27.3407 15.289 27.7334 15.289C28.1262 15.289 28.4446 15.6074 28.4446 16.0001C28.4446 22.873 22.873 28.4446 16.0001 28.4446C9.12723 28.4446 3.55566 22.873 3.55566 16.0001C3.55566 9.12723 9.12723 3.55566 16.0001 3.55566C16.3928 3.55566 16.7112 3.87404 16.7112 4.26678C16.7112 4.65951 16.3928 4.97789 16.0001 4.97789Z"
          fill={isDarkMode ? '#FFFFFF' : '#000000'}
        />
      </svg>
    ) : type === 'support' ? (
      <svg width="32" height="32" viewBox="0 0 32 32" fill={isDarkMode ? '#FFFFFF' : '#000000'}>
        <path d="M19.7496 1.55106C18.7541 0.557811 17.4052 0 15.9989 0C14.5926 0 13.2438 0.557811 12.2482 1.55106L1.55106 12.2482C0.557811 13.2438 0 14.5926 0 15.9989C0 17.4052 0.557811 18.7541 1.55106 19.7496L12.2482 30.4467C13.2431 31.4413 14.5922 32 15.9989 32C17.4056 32 18.7547 31.4413 19.7496 30.4467L30.4467 19.7496C31.44 18.7541 31.9978 17.4052 31.9978 15.9989C31.9978 14.5926 31.44 13.2438 30.4467 12.2482L19.7496 1.55106ZM28.9433 18.2493L18.2493 28.9433C17.6524 29.54 16.8429 29.8752 15.9989 29.8752C15.1549 29.8752 14.3454 29.54 13.7485 28.9433L3.05452 18.2493C2.45779 17.6524 2.12257 16.8429 2.12257 15.9989C2.12257 15.1549 2.45779 14.3454 3.05452 13.7485L13.7485 3.05452C14.3454 2.45779 15.1549 2.12257 15.9989 2.12257C16.8429 2.12257 17.6524 2.45779 18.2493 3.05452L28.9433 13.7485C29.54 14.3454 29.8752 15.1549 29.8752 15.9989C29.8752 16.8429 29.54 17.6524 28.9433 18.2493Z" />
        <path d="M15.9988 25.5483C16.5847 25.5483 17.0598 25.0733 17.0598 24.4873C17.0598 23.9013 16.5847 23.4263 15.9988 23.4263C15.4128 23.4263 14.9377 23.9013 14.9377 24.4873C14.9377 25.0733 15.4128 25.5483 15.9988 25.5483Z" />
        <path d="M15.9987 7.51123C14.5922 7.51292 13.2438 8.07238 12.2493 9.06691C11.2548 10.0614 10.6953 11.4098 10.6936 12.8163C10.6936 13.0977 10.8054 13.3676 11.0044 13.5666C11.2033 13.7655 11.4732 13.8773 11.7546 13.8773C12.036 13.8773 12.3059 13.7655 12.5049 13.5666C12.7038 13.3676 12.8156 13.0977 12.8156 12.8163C12.8156 11.9721 13.151 11.1625 13.7479 10.5656C14.3449 9.96862 15.1545 9.63326 15.9987 9.63326C16.8429 9.63326 17.6525 9.96862 18.2494 10.5656C18.8464 11.1625 19.1817 11.9721 19.1817 12.8163C19.1817 13.7649 18.6586 14.2625 17.6549 15.1325C16.8226 15.7013 16.1406 16.4634 15.6673 17.3536C15.1941 18.2437 14.9437 19.2353 14.9377 20.2434C14.9377 20.5248 15.0494 20.7947 15.2484 20.9937C15.4474 21.1926 15.7173 21.3044 15.9987 21.3044C16.2801 21.3044 16.55 21.1926 16.7489 20.9937C16.9479 20.7947 17.0597 20.5248 17.0597 20.2434C17.0597 18.4535 17.9785 17.6567 19.0438 16.7357C20.1091 15.8147 21.3038 14.7792 21.3038 12.8163C21.3021 11.4098 20.7426 10.0614 19.7481 9.06691C18.7535 8.07238 17.4052 7.51292 15.9987 7.51123Z" />
      </svg>
    ) : type === 'warning' ? (
      <svg width="32" height="28" viewBox="0 0 32 28" fill={isDarkMode ? '#FFFFFF' : '#000000'}>
        <path d="M31.465 22.2115L19.3019 1.88462C18.5944 0.706731 17.3477 0 16 0C14.6523 0 13.4056 0.706731 12.6981 1.85096L0.534952 22.2115C-0.172599 23.3894 -0.172599 24.8365 0.501259 26.0481C1.17512 27.2596 2.42176 28 3.83686 28H28.1631C29.5446 28 30.7912 27.2596 31.4987 26.0481C32.1726 24.8365 32.1726 23.3894 31.465 22.2115ZM29.1739 24.7356C29.0729 24.9038 28.7696 25.3077 28.1631 25.3077H3.83686C3.23039 25.3077 2.92715 24.9038 2.82607 24.7356C2.72499 24.5673 2.52283 24.0962 2.82607 23.5913L15.0229 3.23077C15.3261 2.72596 15.7978 2.65865 16 2.65865C16.2022 2.65865 16.6739 2.72596 16.9771 3.23077L29.1402 23.5913C29.4435 24.0962 29.275 24.5673 29.1739 24.7356Z" />
        <path d="M15.9996 17.7692C16.8082 17.7692 17.4484 17.0962 17.4484 16.3221V10.1971C17.4484 9.38942 16.7745 8.75 15.9996 8.75C15.1909 8.75 14.5508 9.42308 14.5508 10.1971V16.2885C14.5508 17.0962 15.1909 17.7692 15.9996 17.7692Z" />
        <path d="M16.0006 22.6493C16.9868 22.6493 17.7863 21.8508 17.7863 20.8657C17.7863 19.8806 16.9868 19.082 16.0006 19.082C15.0143 19.082 14.2148 19.8806 14.2148 20.8657C14.2148 21.8508 15.0143 22.6493 16.0006 22.6493Z" />
      </svg>
    ) : (
      <svg width="32" height="32" viewBox="0 0 32 32" fill={isDarkMode ? '#FFFFFF' : '#000000'}>
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M21.4812 10.8753C21.2035 10.5976 20.7532 10.5976 20.4755 10.8753L10.8755 20.4753C10.5978 20.753 10.5978 21.2032 10.8755 21.4809C11.1532 21.7586 11.6035 21.7586 11.8812 21.4809L21.4812 11.8809C21.7589 11.6032 21.7589 11.153 21.4812 10.8753Z"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M10.5198 10.875C10.7975 10.5973 11.2478 10.5973 11.5255 10.875L21.1255 20.475C21.4032 20.7527 21.4032 21.203 21.1255 21.4807C20.8478 21.7584 20.3975 21.7584 20.1198 21.4807L10.5198 11.8807C10.2421 11.603 10.2421 11.1527 10.5198 10.875Z"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M16 30.5778C24.0511 30.5778 30.5778 24.0511 30.5778 16C30.5778 7.94892 24.0511 1.42222 16 1.42222C7.94892 1.42222 1.42222 7.94892 1.42222 16C1.42222 24.0511 7.94892 30.5778 16 30.5778ZM16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32Z"
        />
      </svg>
    )

  return (
    <Modal width={width}>
      <Box display={'grid'} alignItems={'center'} padding={'40px'} justifyItems="center" gap="20px">
        <Box>{icon}</Box>
        {header && <Typography variant="h6">{header}</Typography>}
        <Box
          fontSize="18px"
          textAlign="center"
          display="grid"
          justifyItems="center"
          width="100%"
          sx={{ wordBreak: 'break-word' }}
        >
          {children}
        </Box>

        <Box display="flex" justifyContent="space-around" width="100%" marginTop="10px">
          <Button onClick={hideModal}>Close</Button>
          {type === 'failure' && actionText && <Button onClick={action}>{actionText}</Button>}
        </Box>
      </Box>
    </Modal>
  )
}
